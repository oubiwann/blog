<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" class="no-js"> <!--<![endif]-->
  
  
  
  <head profile="http://dublincore.org/documents/dcq-html/">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1179318-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1179318-5');
    </script>
    <meta charset="utf-8">
    <title>
    
      oubiwann | blog
      
      
      
    
    </title>
    

    
    
    
    <!-- General Metadata (site-wide) -->
    <meta name="description" content="A 21st century .plan for Duncan McGreggor">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="oubiwann | blog: version 5.0.0-SNAPSHOT, build 38c457a

">

    <!-- Google Metadata -->
    <meta name="google-site-verification" content="w0pQqmlRRJk36_i3se1w2U7qwG8kS_VqiLS2hq5Wk7g" />

    <!-- Dublic Core Metadata (site-wide) -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/">
    <meta name="DC.format" scheme="DCTERMS.IMT" content="text/html">
    <meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text">
    <meta name="DC.coverage" content="2003-2019">
    <meta name="DC.rights" content="Creative Commons Attribution-ShareAlike 4.0 International License">
    <meta name="DC.publisher" content="C&amp;B|Books">
    <meta name="DCTERMS.audience" content="Developers, Software Engineers, Computer Scientists, Technologists, Programmers, Programming Language Enthusiasts, Operational Engineers">

    
    
<!-- General Metadata (per-page) -->
<meta name="author" content="">

<!-- Dublic Core Metadata (per-page) -->
<meta name="DC.title" lang="en" content="Distributed LFE">
<meta name="DC.creator" content="oubiwann">
<meta name="DC.subject" content="LFE">
<meta name="DC.date" content="2015-09-18">
<meta name="DC.identifier" scheme="DCTERMS.URI" content="https://oubiwann.github.io/blog/archives/2015-09/18-160408/distributed-lfe.html">
<meta name="DCTERMS.abstract" content="">

<!-- Facebook's OpenGraph Metadata -->
<meta property="og:site_name" content="o|b">
<meta property="og:title" content="Distributed LFE">
<meta property="og:url" content="https://oubiwann.github.io/blog/archives/2015-09/18-160408/distributed-lfe.html">
<meta property="og:type" content="blog">
<meta property="og:description" content="">
<meta property="og:image" content="https://oubiwann.github.io/blog/img/ob-post-6.jpg">
<meta property="article:author" content="">
<meta property="article:published_time" content="2015-09-18 16:04:08">
<meta property="article:modified_time" content="">
<meta property="og:updated_time" content="">
<meta property="article:section" content="LFE">


<!-- Twitter Card Metadata -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site:id" content="@oubiwann">
<meta name="twitter:creator:id" content="@ErlangLisp">
<meta name="twitter:title" content="Distributed LFE">
<meta name="twitter:url" content="https://oubiwann.github.io/blog/archives/2015-09/18-160408/distributed-lfe.html">
<meta name="twitter:description" content="<p><p><a href="/assets/images/posts/LFE-signal.jpg"><img class="right medium" src="/assets/images/posts/LFE-signal.jpg" /></a>The posts in this series are focused on OTP. However, we're going to take a break from OTP-proper to talk ...</p>">
<meta name="twitter:image" content="https://oubiwann.github.io/blog/img/ob-post-6.jpg">

    
    

    <link rel="alternate" type="application/atom+xml" title="Feed" href="/blog/atom.xml" />
    

    <!-- Webfonts Setup /-->
    <link href="https://fonts.googleapis.com/css?family=Maitree&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Yantramanav&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">

    <!-- Bootstrap/Custom Styles Setup /-->
    <link rel="stylesheet" href="/blog/assets/highlightjs/styles/arta.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/bootswatch/css/custom.min.css" rel="stylesheet" type="text/css" id="theme">
    <link rel="stylesheet" href="/blog/css/theme.css" rel="stylesheet" type="text/css" id="theme" media="screen">

    <!-- Favicon Setup /-->
    <link rel="apple-touch-icon" sizes="180x180" href="/blog/icons/apple-touch-icon.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog/icons/favicon-32x32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="/blog/icons/favicon-16x16.png?v=3">
    <link rel="manifest" href="/blog/icons/manifest.json?v=3">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg?v=3" color="#5bbad5">
    <link rel="shortcut icon" href="/blog/icons/favicon.ico?v=3">
    <meta name="apple-mobile-web-app-title" content="FRMX">
    <meta name="application-name" content="o|b">
    <meta name="msapplication-config" content="/blog/icons/browserconfig.xml?v=3">
    <meta name="theme-color" content="#ffffff">
    
    
    
    
    
  

  </head>
  
  <body>
  
   
    <header class="tiny">
      
<div class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
  <div class="container">
    <div class="navbar-brand-wrapper">
      <a href="/blog/" class="navbar-brand">o|b</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

   <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/blog/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/archives">Archives</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/categories">Categories</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/tags">Tags</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/authors">Authors</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" id="about">About <span class="caret"></span></a>
          <div class="dropdown-menu" aria-labelledby="about">
            <a class="dropdown-item" href="/blog/about/">The Blog</a>
            <a class="dropdown-item" href="/blog/about/contact/">Contact Us</a>
            <a class="dropdown-item" href="/blog/about/powered-by/">Powered By</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/blog/about/license/">License</a>
          </div>
        </li>
      </ul>

      <ul class="nav navbar-nav ml-auto social-nav">
        <li class="nav-item">
          <a href="/blog/atom.xml" alt="Atom Feed">
            <i class="fa fa-feed first"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="https://twitter.com/oubiwann" alt="Twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="/googleplus" alt="Google+">
            <i class="fa fa-google-plus"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="http://github.com/oubiwann" alt="Github">
            <i class="fa fa-github"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="https://groups.google.com/forum/#!forum/oubiwann-blog-new-posts"
             alt="Email Notifications">
            <i class="fa fa-envelope"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

    </header>
    
    
    <main id="main-content">
      

    <!-- Page Content -->
    <div class="container page-content">

      <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-12">

          <!-- Title -->
          <h1 class="mt-4">Distributed LFE</h1>

          <!-- Author -->
          <p class="lead">
            Posted on September 18,
            2015 by
            <a href="/blog/authors#oubiwann">oubiwann</a>
          </p>

          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link show active" data-toggle="tab" href="#content">Content</a>
            </li>
            <li class="nav-item">
              <a class="nav-link show" data-toggle="tab" href="#metadata">Metadata</a>
            </li>
          </ul>

          <br/>

          <div id="post-content" class="tab-content">
            <div class="tab-pane fade active show" id="content">

          <!-- Post Image -->
          <img class="card-img-top" src="/blog/img/ob-post-6.jpg" alt="Blog post image">

          <hr>

          <!-- Post Content -->
          <p><a href="/assets/images/posts/LFE-signal.jpg"><img class="right medium" src="/assets/images/posts/LFE-signal.jpg" /></a>The posts in this series are focused on OTP. However, we're going to take a break from OTP-proper to talk about some of the basics underlying the patterns that OTP provides to programmers of the Erlang VM. In particular, we going to take a look at distributed systems and then do some hands-on distributed system experimentation with LFE.</p><h2>LFE OTP Tutorial Series</h2><ul><li><a href='/tutorials/2015/05/23/1720-new-series-lfe-otp-tutorials/'>Introducing the LFE OTP Tutorials</a></li><li><a href='/tutorials/2015/05/24/1808-what-is-otp/'>What is OTP?</a></li><li><a href='/tutorials/2015/05/25/0929-prelude-to-otp/'>Prelude to OTP</a></li><li><a href='/tutorials/2015/05/26/1112-creating-servers-with-the-gen_server-behaviour/'>Creating LFE Servers with OTP, Part I</a></li><li><a href='/tutorials/2015/05/28/1008-creating-servers-with-the-gen_server-behaviour-ii/'>Creating LFE Servers with OTP, Part II</a></li><li><a href='/tutorials/2015/09/18/1604-distributed-lfe/'>Distributed LFE</a></li></ul><p>You can leave feedback for the LFE OTP tutorials <a href='https://github.com/lfe/blog/issues/7'>here</a>.</p><h2>In This Post</h2><ul><li>Definitions</li><li>Two Nodes, Same Machine</li><li>Two Nodes, Same LAN</li><li>Two Nodes, Same Internet</li><li>Up Next</li></ul><h2>Definitions</h2><p>Let's start off with some definitions. The text *Principles of Distributed Database Systems* provides us with the following: [<sup>ozsu]</sup></p><p><blockquote> "The working definition we use for a distributed computing system states that it is a number of autonomous processing elements (not necessarily homogeneous) that are interconnected by a computer network and that cooperate in performing their assigned tasks." </blockquote></p><p>Another Springer text, <em>Distributed Algorithms for Message-Passing Systems</em> give this as their definition, [<sup>raynal]</sup> one closely followed by Wikipedia:</p><p><blockquote> "A distributed system is made up of a collection of computing units, each one abstracted through the notion of a process. The processes are assumed to cooperate on a common goal, which means that they exchange information in one way or another." </blockquote></p><p>The <a href='https://en.wikipedia.org/wiki/Distributed_computing#Applications'>Wikipedia article on distributed computing</a> gives a nice list of applications and examples of distributed systems, including the following major areas:</p><ul><li>Internetworks (telecommunications and computing)</li><li>Network applications</li><li>Real-time control systems</li><li>Scientific computing and parallel processing</li></ul><p>We mention this to provide a connection to reality, so that you don't get lost in the minutiae of distributed LFE, coming out at the end wondering what it was all for.</p><p>The above two definitions of distributed systems refer to processes. This is a little too general for our purposes, since all functions in LFE are processes, and any function can be set up to send or receive messages. We want to take advantage of the features baked into the Erlang VM for communicating with what are called <em>nodes</em>. As such, the node will be our defining element in a distributed system.</p><p>An LFE node is more than just a process, it is an instance of the Erlang runtime system (erts) which has been given a name (it cannot be communicated with if it doesn't have a name).</p><p>Okay! Enough with definitions &ndash; let's get coding :-></p><h2>Confirm Setup</h2><p>If you've been following along with these tutorials, then you already have the code checked out and have been running LFE examples for each. If not, be sure to following the instructions at the beginning of the post <a href='/tutorials/2015/05/25/0929-prelude-to-otp/'>Prelude to OTP</a>. In particular, note the instructions in the sections <em>Requirements and Assumptions</em> and <em>Getting the Code</em>.</p><p>Once you're set up and are in the cloned directory, switch to this tutorial's directory and start up the REPL:</p><pre><code class="bash">$ cd tut02
$ make repl
</code></pre><pre><code class="cl">LFE Shell V7.0 &#40;abort with &#94;G&#41;
&#40;repl1@cahwsx01&#41;&gt;
</code></pre><h2>Two Nodes, One Machine</h2><p>Both Erlang shell and LFE REPL instances are example of Erlang Runtime Systems, so we can use the REPL as a node. In order to do so, it needs to be given a name when it starts up. If you take a look at the ``make`` target for starting the REPL, you'll see that's exactly what we just did. Our ``Makefile`` assigned the LFE node the default name ``repl1``.</p><p>We're going to start another node (REPL) in a separate terminal window, but we'll override the default with another name, since ``repl1`` is already in use:</p><pre><code class="bash">$ make repl NODE=repl2
</code></pre><p>Just like with our first node, this starts up an LFE REPL named ``repl2``; you can see the node name in the prompt:</p><pre><code class="cl">LFE Shell V7.0 &#40;abort with &#94;G&#41;
&#40;repl1@cahwsx01&#41;&gt;
</code></pre><p>Our ``Makefile`` (and its includes) set up various paths, etc., but when all is said and done, the target above is just calling ``lfe`` with the parameter ``-sname repl2`` (the "s" stands for short). Once our two nodes on the our machine have been given their names and started, they'll be able to talk to each other.</p><p>Let's use the network administration module's ``ping/1`` function to make sure we the two nodes are on speaking terms:</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;net&#95;adm:ping 'repl2@cahwsx01&#41;
pong
</code></pre><pre><code class="cl">&#40;repl2@cahwsx01&#41;&gt; &#40;net&#95;adm:ping 'repl1@cahwsx01&#41;
pong
</code></pre><p>We can also use the ``names/0`` function to make sure that both nodes are up:</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;net&#95;adm:names&#41;
#&#40;ok &#40;#&#40;&quot;repl1&quot; 54162&#41; #&#40;&quot;repl2&quot; 54168&#41;&#41;&#41;
</code></pre><p>One of the easiest ways to execute code on remote nodes is using the ``rpc`` module in the Erlang stdlib. Here's how you make a call on one particular node:</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;rpc:call 'repl2@cahwsx01 'math 'pi '&#40;&#41;&#41;
3.141592653589793
</code></pre><p>And here's how you make a call on all nodes:</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;rpc:multicall 'math 'pi '&#40;&#41;&#41;
#&#40;&#40;3.141592653589793 3.141592653589793&#41; &#40;&#41;&#41;
</code></pre><p>You can also make a single call on an arbitrary node:<pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;rpc:parallel&#95;eval '&#40;#&#40;math pi &#40;&#41;&#41;&#41;&#41;
&#40;3.141592653589793&#41;
</code></pre></p><p>``parallel_eval/1`` actually takes a list of calls, returning a list of results. Here's a better example of that:</p><pre><code class="cl">&#40;repl2@cahwsx01&#41;&gt; &#40;rpc:parallel&#95;eval '&#40;#&#40;math pi &#40;&#41;&#41; #&#40;math exp &#40;1&#41;&#41;&#41;&#41;
&#40;3.141592653589793 2.718281828459045&#41;
</code></pre><p>Just to mix things up, we made that call on the second node, with the first node being the remote one.</p><p>In addition to calling functions on a remote node and getting results back, we can actually spawn long-running processes remotely too. This is done in the same way as spawning a process locally ... except that you need say which node to spawn on.</p><p>Let's define some functions &ndash; we can define all three of these locally &ndash; they will be sent to the remote node to be executed:</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;defun ackermann
                    &#40;&#40;0 n&#41; &#40;+ n 1&#41;&#41;
                    &#40;&#40;m 0&#41; &#40;ackermann &#40;- m 1&#41; 1&#41;&#41;
                    &#40;&#40;m n&#41; &#40;ackermann &#40;- m 1&#41; &#40;ackermann m &#40;- n 1&#41;&#41;&#41;&#41;&#41;
ackermann
&#40;repl1@cahwsx01&#41;&gt; &#40;defun ack-server &#40;&#41;
                    &#40;register 'acksvr &#40;self&#41;&#41;
                    &#40;ack-loop&#41;&#41;
ack-serverack-loop
&#40;repl1@cahwsx01&#41;&gt; &#40;defun ack-loop &#40;&#41;
                    &#40;receive
                      &#40;`#&#40;,pid terminate&#41;
                        &#40;! pid #&#40;ok server-stopped&#41;&#41;&#41;
                      &#40;`#&#40;,pid ,m ,n&#41;
                        &#40;! pid &#40;ackermann m n&#41;&#41;
                        &#40;ack-loop&#41;&#41;&#41;&#41;
ack-loop
</code></pre><p>Now we can start up our long-running process and then make calls to it. Note that since the sender is the REPL process itself, we'll need to call the REPL ``flush`` function to see the messages it received.</p><pre><code class="cl">&#40;repl1@cahwsx01&#41;&gt; &#40;set rem-pid &#40;spawn&#95;link 'repl2@cahwsx01 #'ack-server/0&#41;&#41;
&lt;5881.91.0&gt;
&#40;repl1@cahwsx01&#41;&gt; &#40;! #&#40;acksvr repl2@cahwsx01&#41; `#&#40;,&#40;self&#41; 0 3&#41;&#41;
#&#40;&lt;0.145.0&gt; 0 3&#41;
&#40;repl1@cahwsx01&#41;&gt; &#40;! #&#40;acksvr repl2@cahwsx01&#41; `#&#40;,&#40;self&#41; 3 0&#41;&#41;
#&#40;&lt;0.145.0&gt; 3 0&#41;
&#40;repl1@cahwsx01&#41;&gt; &#40;! #&#40;acksvr repl2@cahwsx01&#41; `#&#40;,&#40;self&#41; 3 3&#41;&#41;
#&#40;&lt;0.145.0&gt; 3 3&#41;
&#40;repl1@cahwsx01&#41;&gt; &#40;! #&#40;acksvr repl2@cahwsx01&#41; `#&#40;,&#40;self&#41; terminate&#41;&#41;
#&#40;&lt;0.145.0&gt; terminate&#41;
&#40;repl1@cahwsx01&#41;&gt; &#40;c:flush&#41;
Shell got 4
Shell got 5
Shell got 61
Shell got {ok,'server-stopped'}
ok
</code></pre><p>In the ``!`` (send) calls we made above, the process we sent to is a remote one, so we needed to tell it not only the process (id or name), but also the node upon which it is running.</p><p>Also, we used ``spawn_link`` as opposed to just ``spawn``. That way, if our long-running ``acksvr`` process died, we'd get a message in the REPL to that effect. This frees us from having to anticipate timeouts, network outage conditions, etc., and just handle the failure if and when it occurs.</p><p>Alrighty, we've got some basic operations of distributed nodes on a single machine under our belts. Let's see how things change when we move outside one machine ...</p><h2>Two Nodes, One LAN</h2><p>One of the simple and brilliant design principles of Erlang is that whether you're making a call to a process in the same node, to a process in a different node on the same machine, or a node that is somewhere across a network &ndash; the usage is the same. Sure, you may need to add more specificity, but that's just data. Neither the syntax nor semantics change with the location change of the node.</p><p>It should then come as no surprise that two nodes on two different machines in a local area network are going to communicate using the same ideas we've looked at already. One difference, though, is how you start the nodes. We're going to need to start our nodes with the ``-name`` flag instead of the ``-sname`` flag: when operating across the network, the node name needs to include the hostname or IP address.</p><p>Another is that we'll need to make sure we're using the same Erlang cookie. We'll do that with the ``-setcookie`` flag in our ``make`` target.</p><p>We have a make-target for this, so you don't have to type in all the library paths. Let's start up one local node and then on a separate machine start another one:</p><pre><code class="bash">$ make net-repl NODE=repl1@10.0.4.64
&#40;repl1@cahwsx01.local&#41;&gt;
</code></pre><pre><code class="bash">$ make net-repl NODE=repl1@10.0.4.181
&#40;repl1@cahltx01.local&#41;&gt;
</code></pre><p>Let's make sure the nodes can see each other:</p><pre><code class="cl">&#40;repl1@10.0.4.64&#41;&gt; &#40;net&#95;adm:ping 'repl1@10.0.4.181&#41;
pong
&#40;repl1@10.0.4.64&#41;&gt;  &#40;net&#95;adm:names &quot;10.0.4.181&quot;&#41;
#&#40;ok &#40;#&#40;&quot;repl1&quot; 50123&#41;&#41;&#41;
</code></pre><pre><code class="cl">&#40;repl1@10.0.4.181&#41;&gt; &#40;net&#95;adm:ping 'repl1@10.0.4.64&#41;
pong
&#40;repl1@10.0.4.181&#41;&gt; &#40;net&#95;adm:names &quot;10.0.4.64&quot;&#41;
#&#40;ok &#40;#&#40;&quot;repl1&quot; 54906&#41;&#41;&#41;
</code></pre><p>We can make one of the ``rpc`` calls that evaluates code on all nodes as a check, too:</p><pre><code class="cl">&#40;repl1@10.0.4.64&#41;&gt; &#40;rpc:multicall 'math 'pi '&#40;&#41;&#41;
#&#40;&#40;3.141592653589793 3.141592653589793&#41; &#40;&#41;&#41;
</code></pre><p>Looks good!</p><p>Now in one of your terminal windows, paste the Ackermann function (and server) code we created before. The code can be pasted as-is, since none of the logic is changing. The usage, however, will change, since we need to be more specific about the host the node is running on.</p><p>We chose to define the functions on ``10.0.4.181`` and then to execute remotely on ``10.0.4.64``:</p><pre><code class="cl">&#40;repl1@10.0.4.181&#41;&gt; &#40;set rem-pid &#40;spawn&#95;link 'repl1@10.0.4.64 #'ack-server/0&#41;&#41;
&lt;6430.54.0&gt;
&#40;repl1@10.0.4.181&#41;&gt; &#40;! #&#40;acksvr repl1@10.0.4.64&#41; `#&#40;,&#40;self&#41; 0 3&#41;&#41;
#&#40;&lt;0.35.0&gt; 0 3&#41;
&#40;repl1@10.0.4.181&#41;&gt; &#40;! #&#40;acksvr repl1@10.0.4.64&#41; `#&#40;,&#40;self&#41; 3 0&#41;&#41;
#&#40;&lt;0.35.0&gt; 3 0&#41;
&#40;repl1@10.0.4.181&#41;&gt; &#40;! #&#40;acksvr repl1@10.0.4.64&#41; `#&#40;,&#40;self&#41; 3 3&#41;&#41;
#&#40;&lt;0.35.0&gt; 3 3&#41;
&#40;repl1@10.0.4.181&#41;&gt; &#40;! #&#40;acksvr repl1@10.0.4.64&#41; `#&#40;,&#40;self&#41; terminate&#41;&#41;
#&#40;&lt;0.35.0&gt; terminate&#41;
&#40;repl1@10.0.4.181&#41;&gt; &#40;c:flush&#41;
Shell got 4
Shell got 5
Shell got 61
Shell got {ok,'server-stopped'}
ok
</code></pre><p>That's pretty durned sweet,</p><p>Note that we could save this in a module and execute as an RPC, or use OTP behaviours and put it in a supervision tree, etc. All of LFE/Erlang/OTP applies. Nothing has to be fundamentally changed just because we're operating on remote nodes. The simplicity and elegance of this is quite wonderful.</p><h2>Two Nodes, One Internet</h2><p>Guess what? Same deal! You just need to make sure that your selected hosts resolve and that they share the same Erlang cookie data. Please be careful, though: only connect to remote Erlang nodes across non-secure networks if the node-to-node communications are secure (e.g., SSH tunnels, VPN connections, etc.).</p><h2>Up Next</h2><p>In the next installment of this series we'll dive back into OTP, examining one of the lesser-known behaviours it offers: a finite state machine server.<h2></h2></p><p>[<sup>ozsu]:</sup> See M. Tamer  Özsu's <em>Principles of Distributed Database Systems</em> from Springer, page 2.</p><p>[<sup>raynal]:</sup> See Michel Raynal's <em>Distributed Algorithms for Message-Passing Systems</em> from Springer, page 3.</p>

            </div>
            <div class="tab-pane fade" id="metadata">

              <table class="table table-hover">
                <tbody>
                  <tr class="table-secondary">
                    <th scope="row">Author</th>
                    <td>oubiwann</td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Date</th>
                    <td>September 18,
        2015</td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Time</th>
                    <td>16:04:08</td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Category</th>
                    <td>
                        <a href="/blog/categories/#LFE">LFE</a>
                    </td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Tags</th>
                    <td>
                      
                      <a href="/blog/tags/#distributed systems">distributed systems</a>
                      
                      <a href="/blog/tags/#erlang">erlang</a>
                      
                      <a href="/blog/tags/#otp">otp</a>
                      
                      <a href="/blog/tags/#remote nodes">remote nodes</a>
                      
                      <a href="/blog/tags/#rpc">rpc</a>
                      
                      <a href="/blog/tags/#tutorials">tutorials</a>
                      
                    </td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Line&nbsp;Count</th>
                    <td>85 </td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Word&nbsp;Count</th>
                    <td>1745 </td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Character&nbsp;Count</th>
                    <td>14876 </td>
                  </tr>
                </tbody>
              </table>

            </div>
          </div>

          <hr>

          <!-- Comments Note -->
          <div class="card my-4">
            <h5 class="card-header">Comments?</h5>
            <div class="card-body">
              This blog doesn't use standard (embedded) comments; however, since
              the site is hosted on Github, if there <emphasis>is</emphasis>
              something you'd like to share, please do so by
              <a href="https://github.com/oubiwann/blog/issues/new">opening a
              "comment" ticket!</a>
            </div>
          </div>

        </div>

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

<!-- End main page content -->

    </main>
    
    
    <footer id="footer">
      
        <div class="row">
          <div class="col-lg-6">

            <ul class="list-unstyled">
              <li class="text-muted">Blogs</li>
              <li><a href="http://oubiwann.blogspot.com">Electric Duncan</a></li>
              <li><a href="http://blog.lfe.io/">LFE Blog</a></li>
              <li><a href="http://clojang.lfe.io/">Clojang</a></li>
              <li><a href="https://clozhang.github.io/blog/">Clozhang</a></li>
            </ul>

          </div>
          <div class="col-lg-6">
            <ul class="list-unstyled">
              <li class="float-lg-right text-muted">Github orgs</li>
              <li class="float-lg-right"><a href="https://github.com/erlsci">erlsci</a></li>
              <li class="float-lg-right"><a href="https://github.com/lfex">lfex</a></li>
              <li class="float-lg-right"><a href="https://github.com/clozhang">clozhang</a></li>
              <li class="float-lg-right"><a href="https://github.com/clojang">clojang</a></li>
              <li class="float-lg-right"><a href="https://github.com/clojusc">clojusc</a></li>
              <li class="float-lg-right"><a href="https://github.com/hexagram30">hexagram30</a></li>
            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6">
          </div>
          <div class="col-lg-6">
            <ul class="list-unstyled">

              <li class="float-lg-right"><a href="https://github.com/masteringmatplotlib">masteringmatplotlib</a></li>
              <li class="float-lg-right"><a href="https://github.com/usgs-lcmap">usgs-lcmap</a></li>
              <li class="float-lg-right"><a href="https://github.com/nasa-ngap-archives">nasa-ngap-archives</a></li>
              <li class="float-lg-right"><a href="https://github.com/nasa-cmr-archives">nasa-cmr-archives</a></li>

            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-12">
            <p><a href="http://creativecommons.org/licenses/by-sa/4.0/">
              <img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
            </a></p>
            <p class="text-muted">Content released under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License.</a>.</p>
            <p class="text-muted">Copyright &copy; Duncan McGreggor, 2003-2019</p>
          </div>
        </div>


    </footer>
    
    
    <script src="/blog/assets/jquery/dist/jquery.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/popper.js/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/bootstrap/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/bootswatch/js/custom.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
  
  </body>
</html>
