<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" class="no-js"> <!--<![endif]-->
  
  
  
  <head profile="http://dublincore.org/documents/dcq-html/">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1179318-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1179318-5');
    </script>
    <meta charset="utf-8">
    <title>
    
      oubiwann | blog
      
      
      
    
    </title>
    

    
    
    
    <!-- General Metadata (site-wide) -->
    <meta name="description" content="A 21st century .plan for Duncan McGreggor">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="oubiwann | blog: version 5.0.0-SNAPSHOT, build f72b49e

">

    <!-- Google Metadata -->
    <meta name="google-site-verification" content="w0pQqmlRRJk36_i3se1w2U7qwG8kS_VqiLS2hq5Wk7g" />

    <!-- Dublic Core Metadata (site-wide) -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/">
    <meta name="DC.format" scheme="DCTERMS.IMT" content="text/html">
    <meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text">
    <meta name="DC.coverage" content="2003-2019">
    <meta name="DC.rights" content="Creative Commons Attribution-ShareAlike 4.0 International License">
    <meta name="DC.publisher" content="C&amp;B|Books">
    <meta name="DCTERMS.audience" content="Developers, Software Engineers, Computer Scientists, Technologists, Programmers, Programming Language Enthusiasts, Operational Engineers">

    
    
<!-- General Metadata (per-page) -->
<meta name="author" content="">

<!-- Dublic Core Metadata (per-page) -->
<meta name="DC.title" lang="en" content="Scientific Computing with Hy and IPython">
<meta name="DC.creator" content="oubiwann">
<meta name="DC.subject" content="">
<meta name="DC.date" content="2014-11-28">
<meta name="DC.identifier" scheme="DCTERMS.URI" content="https://oubiwann.github.io/blog/archives/2014-11/28-131108/scientific-computing-with-hy-and-ipython.html">
<meta name="DCTERMS.abstract" content="">

<!-- Facebook's OpenGraph Metadata -->
<meta property="og:site_name" content="o|b">
<meta property="og:title" content="Scientific Computing with Hy and IPython">
<meta property="og:url" content="https://oubiwann.github.io/blog/archives/2014-11/28-131108/scientific-computing-with-hy-and-ipython.html">
<meta property="og:type" content="blog">
<meta property="og:description" content="">
<meta property="og:image" content="https://oubiwann.github.io/blog/img/ob-post-5.jpg">
<meta property="article:author" content="">
<meta property="article:published_time" content="2014-11-28 13:11:08">
<meta property="article:modified_time" content="">
<meta property="og:updated_time" content="">
<meta property="article:section" content="">


<!-- Twitter Card Metadata -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site:id" content="@oubiwann">
<meta name="twitter:creator:id" content="@oubiwann">
<meta name="twitter:title" content="Scientific Computing with Hy and IPython">
<meta name="twitter:url" content="https://oubiwann.github.io/blog/archives/2014-11/28-131108/scientific-computing-with-hy-and-ipython.html">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://oubiwann.github.io/blog/img/ob-post-5.jpg">

    
    

    <link rel="alternate" type="application/atom+xml" title="Feed" href="/blog/atom.xml" />
    

    <!-- Webfonts Setup /-->
    <link href="https://fonts.googleapis.com/css?family=Maitree&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Yantramanav&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">

    <!-- Bootstrap/Custom Styles Setup /-->
    <link rel="stylesheet" href="/blog/assets/highlightjs/styles/arta.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/blog/assets/bootswatch/css/custom.min.css" rel="stylesheet" type="text/css" id="theme">
    <link rel="stylesheet" href="/blog/css/theme.css" rel="stylesheet" type="text/css" id="theme" media="screen">

    <!-- Favicon Setup /-->
    <link rel="apple-touch-icon" sizes="180x180" href="/blog/icons/apple-touch-icon.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog/icons/favicon-32x32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="/blog/icons/favicon-16x16.png?v=3">
    <link rel="manifest" href="/blog/icons/manifest.json?v=3">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg?v=3" color="#5bbad5">
    <link rel="shortcut icon" href="/blog/icons/favicon.ico?v=3">
    <meta name="apple-mobile-web-app-title" content="FRMX">
    <meta name="application-name" content="o|b">
    <meta name="msapplication-config" content="/blog/icons/browserconfig.xml?v=3">
    <meta name="theme-color" content="#ffffff">
    
    

    <!-- Scripts /-->
    
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
    
    
  

  </head>
  
  <body>
  
   
    <header class="tiny">
      
<div class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
  <div class="container">
    <div class="navbar-brand-wrapper">
      <a href="/blog/" class="navbar-brand">o|b</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

   <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/blog/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/archives">Archives</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/categories">Categories</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/tags">Tags</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog/authors">Authors</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" id="about">About <span class="caret"></span></a>
          <div class="dropdown-menu" aria-labelledby="about">
            <a class="dropdown-item" href="/blog/about/">The Blog</a>
            <a class="dropdown-item" href="/blog/about/contact/">Contact Us</a>
            <a class="dropdown-item" href="/blog/about/powered-by/">Powered By</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/blog/about/license/">License</a>
          </div>
        </li>
      </ul>

      <ul class="nav navbar-nav ml-auto social-nav">
        <li class="nav-item">
          <a href="/blog/atom.xml" alt="Atom Feed">
            <i class="fa fa-feed first"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="https://twitter.com/oubiwann" alt="Twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="/googleplus" alt="Google+">
            <i class="fa fa-google-plus"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="http://github.com/oubiwann" alt="Github">
            <i class="fa fa-github"></i>
          </a>
        </li>
        <li class="nav-item">
          <a href="https://groups.google.com/forum/#!forum/oubiwann-blog-new-posts"
             alt="Email Notifications">
            <i class="fa fa-envelope"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

    </header>
    
    
    <main id="main-content">
      

    <!-- Page Content -->
    <div class="container page-content">

      <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-12">

          <!-- Title -->
          <h1 class="mt-4">Scientific Computing with Hy and IPython</h1>

          <!-- Author -->
          <p class="lead">
            Posted on November 28,
            2014 by
            <a href="/blog/authors#oubiwann">oubiwann</a>
          </p>

          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link show active" data-toggle="tab" href="#content">Content</a>
            </li>
            <li class="nav-item">
              <a class="nav-link show" data-toggle="tab" href="#metadata">Metadata</a>
            </li>
          </ul>

          <br/>

          <div id="post-content" class="tab-content">
            <div class="tab-pane fade active show" id="content">

          <!-- Post Image -->
          <img class="card-img-top" src="/blog/img/ob-post-5.jpg" alt="Blog post image">

          <hr>

          <!-- Post Content -->
          <p><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Nwk7ljTWXws/VHi18FUA7dI/AAAAAAAAATU/9K9bUHHmhs s/s1600/Hy<i>Lang</i>Logo_x2000.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-Nwk7ljTWXws/VHi18FUA7dI/AAAAAAAAATU/9K9bUHHmhss /s1600/Hy<i>Lang</i>Logo_x2000.png" height="200" width="200" /></a></div>This blog post is a bit different than other technical posts I've done in the past in that the majority of the content is not on the blog in or gists; instead, it is in an <a href="http://ipython.org/">IPython</a> notebook. Having adored Mathematica back in the 90s, you can imagine how much I love the <a href="http://ipython.org/notebook.html">IPython Notebook</a> app. I'll have more to say on that at a future date.<br /><br />I've been doing a great deal of <a href="http://www.numpy.org/">NumPy</a> and <a href="http://matplotlib.org/">matplotlib</a> again lately, every day for hours a day. In conjunction with <a href="https://us.pycon.org/2013/schedule/presentation/117/">the new features in Python 3</a>, this has been quite a lot of fun &ndash; the most fun I've had with Python in years (thanks Guido, et al!). As you might have guessed, I'm also using it with Erlang (specifically, <a href="http://lfe.io/">LFE</a>), but that too is for a post yet to come.<br /><br />With all this matplotlib and numpy work in standard Python, I've been going through Lisp withdrawals and needed to work with it from a fresh perspective. Needless to say, I had an enormous amount of fun doing this. Naturally, I decided to share with folks how one can do the latest and greatest with the tools of Python scientific computing, but in the syntax of the Python community's best kept secret: <a href="http://hylang.org/">Clojure-Flavoured Python</a>&nbsp;(<a href="https://github.com/hylang/hy">Github</a>, <a href="https://twitter.com/hylang">Twitter</a>, <a href="http://en.wikipedia.org/wiki/Hy">Wikipedia</a>).<br /><br /><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-vYxH5anFtQA/VHi6l4ZhF6I/AAAAAAAAAT g/EYa8CSkE1lg/s1600/Final-Image.png" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-vYxH5anFtQA/VHi6l4ZhF6I/AAAAAAAAATg/EYa8CSkE1lg /s1600/Final-Image.png" height="200" width="198" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Spoiler: observed data and<br />polynomial&nbsp;curve fitting</td></tr></tbody></table>Looking about for ideas, I decided to see what <a href="http://clojure.org/">Clojure</a>'s <a href="http://data-sorcery.org/">Incanter</a> project had for tutorials, and immediately found what I was looking for:&nbsp;<a href="http://data-sorcery.org/2009/06/04/linear-regression-with-higher-order-t erms/">Linear regression with higher-order terms</a>, a 2009 post by&nbsp;<a href="https://twitter.com/liebke">David Edgar Liebke</a>.<br /><br />Nearly every cell in the tutorial notebook is in Hy, and for that we owe a huge thanks to&nbsp;<a href="https://github.com/yardsale8">yardsale8</a> for his <a href="https://github.com/yardsale8/hymagic">Hy IPython magics code</a>. For those that love Python and Lisp equally, who are familiar with the ecosystems' tools, Hy offers a wonderful option for being highly productive with a language supporting Lisp- and Clojure-style macros. You can get your work done, have a great time doing it, and let that inner code artist out!<br /><br />(In fact, I've started writing a macro for one of the examples in the tutorial, offering a more Lisp-like syntax for creating class methods. We'll see what <a href="https://twitter.com/paultag">Paul Tagliamonte</a> has to say about it when it's done ... !)<br /><br />If you want to check out the notebook code and run it locally, just do the following:<br /><script src="https://gist.github.com/oubiwann/4ce8ee7100ff90d3d3d1.js?file=checkout.tx t"></script> <br />This will do the following:<br /><br /><ul><li>Create a virtualenv using Python 3</li><li>Download all the dependencies, and then</li><li>Start up the notebook using a local IPython HTTP server</li></ul><br />If you just want to read along, you're more than welcome to do that as well, thanks to the <a href="http://nbviewer.ipython.org/">IPython NBViewer service</a>. Here's the link:&nbsp;<a href="http://nbviewer.ipython.org/github/oubiwann/linear-regress ion-tutorial/blob/master/notebooks/tutorial.ipynb">Scientific Computing with Hy: Linear Regressions</a>.<br /><br />One thing I couldn't get working was the community-provided code for <a href="https://github.com/minrk/ipython_extensions">generating tables of contents in IPython notebooks</a>. If you have any expertise in this area, I'd <i>love</i>&nbsp;to get your feedback to see how I need to configure the custom <a href="https://github.com/oubiwann/linear-regression-tutorial/tree/master/.ipyt hon/profile_ihy">ihy IPython profile</a> for this tutorial.<br /><br />Without that, I've opted for the manual approach and have provided a table of contents here:<br /><ul><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#Introduction">Introduction</a></li><ul><li<blockquote><p><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutori al/blob/master/notebooks/tutorial.ipynb#Curve-Fitting-and-Linear-Regressions"> Curve Fitting and Linear Regressions</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#Scientific-Computing-in-Python">Scientific Computing in Python</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#About-Hy">About Hy</a></li></ul><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#Preparation">Preparation</a></li><ul><li>< a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial /blob/master/notebooks/tutorial.ipynb#Getting-the-Code">Getting the Code</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-r egression-tutorial/blob/master/notebooks/tutorial.ipynb#Using-Hy">Using Hy</a> </li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regressio n-tutorial/blob/master/notebooks/tutorial.ipynb#IPython-Setup">IPython Setup</ a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regress ion-tutorial/blob/master/notebooks/tutorial.ipynb#Imports-and-Color-Palette-Co nfig">Imports and Color Palette Config</a></li></ul><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#Loading-the-Observed-Data">Loading the Observed Data</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#Viewing-the-Data">Viewing the Data</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-r egression-tutorial/blob/master/notebooks/tutorial.ipynb#Curve-Fitting">Curve-F itting</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear -regression-tutorial/blob/master/notebooks/tutorial.ipynb#Polynomial-Linear-Re gression">Polynomial Linear Regression</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear-regression-tutorial/b lob/master/notebooks/tutorial.ipynb#A-Linear-Model-Class">A Linear Model Class</a></li><li><a href="http://nbviewer.ipython.org/github/oubiwann/linear- regression-tutorial/blob/master/notebooks/tutorial.ipynb#Plotting-the-Model-wi th-the-Observed-Data">Plotting the Model with the Observed Data</a></li></ul><div>If all goes well, you will enjoy that as much as I did :-)</div><div><br /></div><div>More soon ...</div><div><br /></div><div><br /></div>  </p></blockquote></p>

            </div>
            <div class="tab-pane fade" id="metadata">

              <table class="table table-hover">
                <tbody>
                  <tr class="table-secondary">
                    <th scope="row">Author</th>
                    <td>oubiwann</td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Date</th>
                    <td>November 28,
        2014</td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Time</th>
                    <td>13:11:08</td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Category</th>
                    <td>
                        <a href="/blog/categories/#"></a>
                    </td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Tags</th>
                    <td>
                      
                      <a href="/blog/tags/#clojure">clojure</a>
                      
                      <a href="/blog/tags/#hy">hy</a>
                      
                      <a href="/blog/tags/#lisp">lisp</a>
                      
                      <a href="/blog/tags/#math">math</a>
                      
                      <a href="/blog/tags/#matplotlib">matplotlib</a>
                      
                      <a href="/blog/tags/#numpy">numpy</a>
                      
                      <a href="/blog/tags/#python">python</a>
                      
                      <a href="/blog/tags/#python 3">python 3</a>
                      
                      <a href="/blog/tags/#scientific computing">scientific computing</a>
                      
                    </td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Line&nbsp;Count</th>
                    <td>1 </td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Word&nbsp;Count</th>
                    <td>681 </td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Character&nbsp;Count</th>
                    <td>8146 </td>
                  </tr>
                </tbody>
              </table>

            </div>
          </div>

          <hr>

          <!-- Comments Note -->
          <div class="card my-4">
            <h5 class="card-header">Comments?</h5>
            <div class="card-body">
              This blog doesn't use standard (embedded) comments; however, since
              the site is hosted on Github, if there <emphasis>is</emphasis>
              something you'd like to share, please do so by
              <a href="https://github.com/oubiwann/blog/issues/new">opening a
              "comment" ticket!</a>
            </div>
          </div>

        </div>

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

<!-- End main page content -->

    </main>
    
    
    <footer id="footer">
      
        <div class="row">
          <div class="col-lg-6">

            <ul class="list-unstyled">
              <li class="text-muted">Blogs</li>
              <li><a href="http://oubiwann.blogspot.com">Electric Duncan</a></li>
              <li><a href="http://blog.lfe.io/">LFE Blog</a></li>
              <li><a href="http://clojang.lfe.io/">Clojang</a></li>
              <li><a href="https://clozhang.github.io/blog/">Clozhang</a></li>
            </ul>

          </div>
          <div class="col-lg-6">
            <ul class="list-unstyled">
              <li class="float-lg-right text-muted">Github orgs</li>
              <li class="float-lg-right"><a href="https://github.com/erlsci">erlsci</a></li>
              <li class="float-lg-right"><a href="https://github.com/lfex">lfex</a></li>
              <li class="float-lg-right"><a href="https://github.com/clozhang">clozhang</a></li>
              <li class="float-lg-right"><a href="https://github.com/clojang">clojang</a></li>
              <li class="float-lg-right"><a href="https://github.com/clojusc">clojusc</a></li>
              <li class="float-lg-right"><a href="https://github.com/hexagram30">hexagram30</a></li>
            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6">
          </div>
          <div class="col-lg-6">
            <ul class="list-unstyled">

              <li class="float-lg-right"><a href="https://github.com/masteringmatplotlib">masteringmatplotlib</a></li>
              <li class="float-lg-right"><a href="https://github.com/usgs-lcmap">usgs-lcmap</a></li>
              <li class="float-lg-right"><a href="https://github.com/nasa-ngap-archives">nasa-ngap-archives</a></li>
              <li class="float-lg-right"><a href="https://github.com/nasa-cmr-archives">nasa-cmr-archives</a></li>

            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-12">
            <p><a href="http://creativecommons.org/licenses/by-sa/4.0/">
              <img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
            </a></p>
            <p class="text-muted">Content released under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License.</a>.</p>
            <p class="text-muted">Copyright &copy; Duncan McGreggor, 2003-2019</p>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-12">
            <p class="text-muted">Design adapted from the Bootswatch
              <a href="https://bootswatch.com/darkly/">Darkly</a> theme.
            </p>
          </div>
        </div>


    </footer>
    
    
    <script src="/blog/assets/jquery/dist/jquery.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/popper.js/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/bootstrap/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/bootswatch/js/custom.js" crossorigin="anonymous"></script>
    <script src="/blog/assets/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
  
  </body>
</html>
